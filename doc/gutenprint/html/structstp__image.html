<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>libgutenprint API Reference: stp_image Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.5 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul></div>
<h1>stp_image Struct Reference<br>
<small>
[<a class="el" href="group__image.html">image</a>]</small>
</h1><!-- doxytag: class="stp_image" -->The image type is an abstract data type for interfacing with the image creation program.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;image.h&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#9aebe24f43e2fe0d4342495a64026baa">init</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is used to perform any initialization required by the image layer for the image.  <a href="#9aebe24f43e2fe0d4342495a64026baa"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#edae63ed1524916fdef45cb652d7275e">reset</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called to reset the image to the beginning.  <a href="#edae63ed1524916fdef45cb652d7275e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#85ce2739e10b7c073f108a82b3e5d717">width</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the width of the image in pixels.  <a href="#85ce2739e10b7c073f108a82b3e5d717"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#36cffb4418960b12743fc547902e35a6">height</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the height of the image in pixels.  <a href="#36cffb4418960b12743fc547902e35a6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__image.html#g3378dd231cc63da06de0bb41f1cde78f">stp_image_status_t</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#e2681945ea918b7082ba78751d084347">get_row</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback transfers the data from the image to the gimp-print library.  <a href="#e2681945ea918b7082ba78751d084347"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#e9495dba1df955709ebbd651c1a526e6">get_appname</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the name of the application.  <a href="#e9495dba1df955709ebbd651c1a526e6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#6af9f0bf8a602f4a937c6e207a03ec01">conclude</a> )(struct <a class="el" href="structstp__image.html">stp_image</a> *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called at the end of each page.  <a href="#6af9f0bf8a602f4a937c6e207a03ec01"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image.html#75a384057459ae8e69fb9a98a249b4f4">rep</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to an application-specific state information that might need to be associated with the image object.  <a href="#75a384057459ae8e69fb9a98a249b4f4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The image type is an abstract data type for interfacing with the image creation program. 
<p>
It provides callbacks to functions defined within the client application which are called while printing the image. 
<p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="6af9f0bf8a602f4a937c6e207a03ec01"></a><!-- doxytag: member="stp_image::conclude" ref="6af9f0bf8a602f4a937c6e207a03ec01" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void(* <a class="el" href="structstp__image.html#6af9f0bf8a602f4a937c6e207a03ec01">stp_image::conclude</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is called at the end of each page. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="e9495dba1df955709ebbd651c1a526e6"></a><!-- doxytag: member="stp_image::get_appname" ref="e9495dba1df955709ebbd651c1a526e6" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">const char*(* <a class="el" href="structstp__image.html#e9495dba1df955709ebbd651c1a526e6">stp_image::get_appname</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the name of the application. 
<p>
This is embedded in the output by some drivers.     </td>
  </tr>
</table>
<a class="anchor" name="e2681945ea918b7082ba78751d084347"></a><!-- doxytag: member="stp_image::get_row" ref="e2681945ea918b7082ba78751d084347" args=")(struct stp_image *image, unsigned char *data, size_t byte_limit, int row)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"><a class="el" href="group__image.html#g3378dd231cc63da06de0bb41f1cde78f">stp_image_status_t</a>(* <a class="el" href="structstp__image.html#e2681945ea918b7082ba78751d084347">stp_image::get_row</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image, unsigned char *data, size_t byte_limit, int row)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback transfers the data from the image to the gimp-print library. 
<p>
It is called from the driver layer. It should copy WIDTH (as returned by the <a class="el" href="structstp__image.html#85ce2739e10b7c073f108a82b3e5d717">width()</a> member) pixels of data into the data buffer. It normally returns STP_IMAGE_STATUS_OK; if something goes wrong, or the application wishes to stop producing any further output (e. g. because the user cancelled the print job), it should return STP_IMAGE_STATUS_ABORT. This will cause the driver to flush any remaining data to the output. It will always request rows in monotonically ascending order, but it may skip rows (if, for example, the resolution of the input is higher than the resolution of the output). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>a pointer to <a class="el" href="structstp__image.html#85ce2739e10b7c073f108a82b3e5d717">width()</a> bytes of pixel data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>byte_limit</em>&nbsp;</td><td>(image width * number of channels). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>row</em>&nbsp;</td><td>(unused). </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="36cffb4418960b12743fc547902e35a6"></a><!-- doxytag: member="stp_image::height" ref="36cffb4418960b12743fc547902e35a6" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="structstp__image.html#36cffb4418960b12743fc547902e35a6">stp_image::height</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the height of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="9aebe24f43e2fe0d4342495a64026baa"></a><!-- doxytag: member="stp_image::init" ref="9aebe24f43e2fe0d4342495a64026baa" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void(* <a class="el" href="structstp__image.html#9aebe24f43e2fe0d4342495a64026baa">stp_image::init</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is used to perform any initialization required by the image layer for the image. 
<p>
It will be called once per image. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="75a384057459ae8e69fb9a98a249b4f4"></a><!-- doxytag: member="stp_image::rep" ref="75a384057459ae8e69fb9a98a249b4f4" args="" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void* <a class="el" href="structstp__image.html#75a384057459ae8e69fb9a98a249b4f4">stp_image::rep</a>          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
A pointer to an application-specific state information that might need to be associated with the image object. 
<p>
    </td>
  </tr>
</table>
<a class="anchor" name="edae63ed1524916fdef45cb652d7275e"></a><!-- doxytag: member="stp_image::reset" ref="edae63ed1524916fdef45cb652d7275e" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void(* <a class="el" href="structstp__image.html#edae63ed1524916fdef45cb652d7275e">stp_image::reset</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback is called to reset the image to the beginning. 
<p>
It may (in principle) be called multiple times if a page is being printed more than once. <dl compact><dt><b>Warning:</b></dt><dd>The <a class="el" href="structstp__image.html#edae63ed1524916fdef45cb652d7275e">reset()</a> call may be removed in the future. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<a class="anchor" name="85ce2739e10b7c073f108a82b3e5d717"></a><!-- doxytag: member="stp_image::width" ref="85ce2739e10b7c073f108a82b3e5d717" args=")(struct stp_image *image)" --><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int(* <a class="el" href="structstp__image.html#85ce2739e10b7c073f108a82b3e5d717">stp_image::width</a>)(struct <a class="el" href="structstp__image.html">stp_image</a> *image)          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This callback returns the width of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>
    </td>
  </tr>
</table>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>include/gutenprint/<a class="el" href="image_8h.html">image.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue Nov 22 14:55:33 2005 for libgutenprint API Reference by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.5 </small></address>
</body>
</html>
