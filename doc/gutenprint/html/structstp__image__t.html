<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libgutenprint API Reference: stp_image_t Struct Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li class="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
  </ul>
</div>
<h1>stp_image_t Struct Reference<br>
<small>
[<a class="el" href="group__image.html">image</a>]</small>
</h1><!-- doxytag: class="stp_image_t" -->The image type is an abstract data type for interfacing with the image creation program.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;image.h&gt;</code>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Fields</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#96e9c2c9f040fbc66abab45a4b2a79b0">init</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is used to perform any initialization required by the image layer for the image.  <a href="#96e9c2c9f040fbc66abab45a4b2a79b0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#ce331fd802c9c7c65a6538c03aecc0b3">reset</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called to reset the image to the beginning.  <a href="#ce331fd802c9c7c65a6538c03aecc0b3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#e120f940a46eeb9d8f6a28b03cea88c0">width</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the width of the image in pixels.  <a href="#e120f940a46eeb9d8f6a28b03cea88c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#687ae4bce9980985adfce7a15af38cde">height</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the height of the image in pixels.  <a href="#687ae4bce9980985adfce7a15af38cde"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__image.html#g58672e1989d582c14328048b207657c8">stp_image_status_t</a>(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#d490679a2b158fcec555d54d7e9bc528">get_row</a> )(struct stp_image *image, unsigned char *data, size_t byte_limit, int row)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback transfers the data from the image to the gimp-print library.  <a href="#d490679a2b158fcec555d54d7e9bc528"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#c8184c887110641206044785fae3f46d">get_appname</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback returns the name of the application.  <a href="#c8184c887110641206044785fae3f46d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#75a8a76ab6d78ba767b21e5ed95827a7">conclude</a> )(struct stp_image *image)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This callback is called at the end of each page.  <a href="#75a8a76ab6d78ba767b21e5ed95827a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstp__image__t.html#e5ba3d09714043232aef970d245182ee">rep</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A pointer to an application-specific state information that might need to be associated with the image object.  <a href="#e5ba3d09714043232aef970d245182ee"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The image type is an abstract data type for interfacing with the image creation program. 
<p>
It provides callbacks to functions defined within the client application which are called while printing the image. <hr><h2>Field Documentation</h2>
<a class="anchor" name="96e9c2c9f040fbc66abab45a4b2a79b0"></a><!-- doxytag: member="stp_image_t::init" ref="96e9c2c9f040fbc66abab45a4b2a79b0" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image__t.html#96e9c2c9f040fbc66abab45a4b2a79b0">stp_image_t::init</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback is used to perform any initialization required by the image layer for the image. 
<p>
It will be called once per image. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ce331fd802c9c7c65a6538c03aecc0b3"></a><!-- doxytag: member="stp_image_t::reset" ref="ce331fd802c9c7c65a6538c03aecc0b3" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image__t.html#ce331fd802c9c7c65a6538c03aecc0b3">stp_image_t::reset</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback is called to reset the image to the beginning. 
<p>
It may (in principle) be called multiple times if a page is being printed more than once. <dl class="warning" compact><dt><b>Warning:</b></dt><dd>The <a class="el" href="structstp__image__t.html#ce331fd802c9c7c65a6538c03aecc0b3" title="This callback is called to reset the image to the beginning.">reset()</a> call may be removed in the future. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e120f940a46eeb9d8f6a28b03cea88c0"></a><!-- doxytag: member="stp_image_t::width" ref="e120f940a46eeb9d8f6a28b03cea88c0" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structstp__image__t.html#e120f940a46eeb9d8f6a28b03cea88c0">stp_image_t::width</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback returns the width of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="687ae4bce9980985adfce7a15af38cde"></a><!-- doxytag: member="stp_image_t::height" ref="687ae4bce9980985adfce7a15af38cde" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="structstp__image__t.html#687ae4bce9980985adfce7a15af38cde">stp_image_t::height</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback returns the height of the image in pixels. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d490679a2b158fcec555d54d7e9bc528"></a><!-- doxytag: member="stp_image_t::get_row" ref="d490679a2b158fcec555d54d7e9bc528" args=")(struct stp_image *image, unsigned char *data, size_t byte_limit, int row)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__image.html#g58672e1989d582c14328048b207657c8">stp_image_status_t</a>(* <a class="el" href="structstp__image__t.html#d490679a2b158fcec555d54d7e9bc528">stp_image_t::get_row</a>)(struct stp_image *image, unsigned char *data, size_t byte_limit, int row)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback transfers the data from the image to the gimp-print library. 
<p>
It is called from the driver layer. It should copy WIDTH (as returned by the <a class="el" href="structstp__image__t.html#e120f940a46eeb9d8f6a28b03cea88c0" title="This callback returns the width of the image in pixels.">width()</a> member) pixels of data into the data buffer. It normally returns STP_IMAGE_STATUS_OK; if something goes wrong, or the application wishes to stop producing any further output (e. g. because the user cancelled the print job), it should return STP_IMAGE_STATUS_ABORT. This will cause the driver to flush any remaining data to the output. It will always request rows in monotonically ascending order, but it may skip rows (if, for example, the resolution of the input is higher than the resolution of the output). <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>image</em>&nbsp;</td><td>the image in use. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>a pointer to <a class="el" href="structstp__image__t.html#e120f940a46eeb9d8f6a28b03cea88c0" title="This callback returns the width of the image in pixels.">width()</a> bytes of pixel data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>byte_limit</em>&nbsp;</td><td>(image width * number of channels). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>row</em>&nbsp;</td><td>(unused). </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c8184c887110641206044785fae3f46d"></a><!-- doxytag: member="stp_image_t::get_appname" ref="c8184c887110641206044785fae3f46d" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char*(* <a class="el" href="structstp__image__t.html#c8184c887110641206044785fae3f46d">stp_image_t::get_appname</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback returns the name of the application. 
<p>
This is embedded in the output by some drivers. 
</div>
</div><p>
<a class="anchor" name="75a8a76ab6d78ba767b21e5ed95827a7"></a><!-- doxytag: member="stp_image_t::conclude" ref="75a8a76ab6d78ba767b21e5ed95827a7" args=")(struct stp_image *image)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* <a class="el" href="structstp__image__t.html#75a8a76ab6d78ba767b21e5ed95827a7">stp_image_t::conclude</a>)(struct stp_image *image)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This callback is called at the end of each page. 
<p>

</div>
</div><p>
<a class="anchor" name="e5ba3d09714043232aef970d245182ee"></a><!-- doxytag: member="stp_image_t::rep" ref="e5ba3d09714043232aef970d245182ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* <a class="el" href="structstp__image__t.html#e5ba3d09714043232aef970d245182ee">stp_image_t::rep</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A pointer to an application-specific state information that might need to be associated with the image object. 
<p>

</div>
</div><p>
<hr>The documentation for this struct was generated from the following file:<ul>
<li>include/gutenprint/<a class="el" href="image_8h.html">image.h</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 1 21:37:39 2008 for libgutenprint API Reference by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
